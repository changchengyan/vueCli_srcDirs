<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>反馈单</title>
    <link rel="stylesheet" href="./common.css">
</head>
<body>
    <div id="container">
        <div class="tables">
            <div class="table-item right-table">
                <div class="inner-wrap">
                    <div class="mainHead">
                        <span>{{feedBack.orgName}}反馈单</span>
                    </div>
                    <div class="subHead">
                        <div class="col">
                            <span>检修单号:</span>
                            <span>{{feedBack.orderNum}}</span>
                        </div>
                        <div class="col">
                            <span>反馈时间:</span>
                            <span>{{feedBack.feedBackTime}}</span>
                        </div>
                    </div>
                    <table>
                        <tr>
                            <td><span>检修地点</span></td>
                            <td> <span>{{feedBack.address}}</span></td>
                            <td><span>最迟处理时间</span></td>
                            <td colspan="2">
                                <span>{{feedBack.lastDoTime}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span>紧急程度</span></td>
                            <td>
                                <span>{{feedBack.hurrySelect}}</span>
                            </td>
                            <td><span>检修类型</span></td>
                            <td colspan="2">
                                <span>{{feedBack.typeSelect}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td rowspan="3"><span>检修报告</span></td>
                            <td colspan="4" class="concat"><span>原因分析:</span> <span>{{feedBack.reason}}</span></td>
                        </tr>
                        <tr>
                            <td colspan="4" class="concat"><span>处理结果:</span> <span>{{feedBack.handleResult}}</span></td>
                        </tr>
                        <tr>
                            <td colspan="4" class="concat"><span>相关建议:</span> <span>{{feedBack.suggestion}}</span></td>
                        </tr>
                        <tr>
                            <td :rowspan="feedBack.productList.length+1"><span>材料清单</span></td>
                            <td><span>材料名称</span></td>
                            <td><span>单位</span></td>
                            <td><span>数量</span></td>
                        </tr>
                        <tr v-for="(item,index) in feedBack.productList" :key="index">
                            <td> <span>{{item.name}}</span> </td>
                            <td>  <span>{{item.unit}}</span> </td>
                            <td> <span>{{item.num?item.num:item.number}}</span></td>
                        </tr>
                        <tr>
                            <td><span>检修评价</span></td>
                            <td colspan="4"> <span>{{feedBack.checkAdvice}}</span></td>
                        </tr>
                        <tr class="noBorder">
                            <td colspan="2"><span>检修部门:{{feedBack.repairDept}}</span></td>
                            <td colspan="3"><span>验收部门:{{feedBack.orderDept}}</span></td>
                        </tr>
                        <tr class="noBorder">
                            <td colspan="2"><span>签字:</span></td>
                            <td colspan="3"><span>签字:</span></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/vue2.0.js"></script>
    <script>
        
        var old_table = new Vue({
            el:"#container",
            data:{
                feedBack:{
                    orgName:"",
                    orderNum:"",
                    feedBackTime:"",
                    address:"",
                    lastDoTime:"",
                    hurrySelect:"",
                    typeSelect:"",
                    reason:"",
                    handleResult:"",
                    suggestion:"",
                    productList:[],
                    checkAdvice:"",
                    repairDept:"",
                    orderDept:""
                }  
            },
            methods:{

            },
            created:function(){
                this.feedBack =  JSON.parse(sessionStorage.getItem("tableContent"));
            },
            mounted:function(){
                window.print();
            }
        })
    
    </script>
</body>
</html>