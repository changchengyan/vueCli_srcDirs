<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>原有工单</title>
    <link rel="stylesheet" href="./common.css">
</head>

<body>
    <div id="container">
        <div class="tables">
            <div class=" table-item ">
                <span class="inner-wrap">
                    <div class="mainHead old"> <span>{{oldTable.orgName}}安装抢修派工单</span> </div>
                    <table>
                        <tr>
                            <td class="sm"><span>日期</span></td>
                            <td colspan="2">
                                <span>{{oldTable.time}}</span>
                            </td>
                            <td class="middle"><span>用户名</span></td>
                            <td colspan="5"><span>{{oldTable.user}}</span></td>
                        </tr>
                        <tr>
                            <td><span>紧急程度</span></td>
                            <td colspan="2">
                                <span>{{oldTable.hurrySelect}}</span>
                            </td>
                            <td><span>联系电话</span></td>
                            <td colspan="4"><span>{{oldTable.tel}}</span></td>
                        </tr>
                        <tr>
                            <td><span>出勤事由</span></td>
                            <td colspan="2" class="md">
                                <span>{{oldTable.attendance}}</span>
                            </td>
                            <td><span>处理人</span></td>
                            <td colspan="4" class="getWorker">
                                <span>{{ oldTable.doerName}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td :rowspan="oldTable.productList.length+1"><span>工程情况</span></td>
                            <td> <span>序号</span> </td>
                            <td><span>工作内容</span></td>
                            <td class="middle"><span>材料名称</span></td>
                            <td class="sm"><span>单位</span></td>
                            <td class="sm"><span>数量</span></td>
                            <td><span>备注</span></td>
                        </tr>
                        <tr v-for="(item,index) in oldTable.productList" :key="index">
                            <td> <span >{{index+1}}</span> </td>
                            <td> <span :title="item.content">{{item.content}}</span> </td>
                            <td> <span>{{item.name}}</span> </td>
                            <td> <span>{{item.unit}}</span> </td>
                            <td> <span>{{item.number}}</span> </td>
                            <td class="lang"> <span :title="item.remark">{{item.remark}}</span> </td>

                        </tr>
                        <tr>
                            <td><span>处理结果</span></td>
                            <td colspan="2" class="largeText">
                                <span>{{oldTable.feedBack.result}}</span>
                            </td>
                            <td><span>处理时间</span></td>
                            <td colspan="4">
                                <span>{{oldTable.feedBack.time}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span>库存</span></td>
                            <td colspan="2" class="store">
                                <span>{{oldTable.feedBack.storeNum}}</span>
                            </td>
                            <td><span>部门负责人</span></td>
                            <td colspan="4"></td>
                        </tr>
                        <tr>
                            <td><span>派工负责人</span></td>
                            <td colspan="2"> </td>
                            <td><span>审核人</span></td>
                            <td colspan="4"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/vue2.0.js"></script>
    <script>

        var old_table = new Vue({
            el: "#container",
            data: {
                oldTable: {
                    orgName: "",
                    time: "",
                    user: "",
                    hurrySelect: "",
                    tel: "",
                    attendance: "",
                    doerName: "",
                    productList: [],
                    feedBack:{
                        result:"",
                        time:"",
                        storeNum:""
                    }
                }

            },
            methods: {

            },
            created: function () {
               this.oldTable =  JSON.parse(sessionStorage.getItem("tableContent"));
            },
            mounted:function(){
                window.print();
            }
        })

    </script>
</body>

</html>